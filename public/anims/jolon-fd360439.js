import{P as Z,g as ss,h as g,q as Q,i as es,C as L,k as ns,N as x,n as X,s as K,o as ts,p as F,r as as,t as is,u as z,v as os,x as ls,y as rs,B as k,z as B,A as cs,D as I,E as M,G as ps,H as ds,M as V,m as fs,I as _,j as h,a as H,J as $,w as D,K as q,L as O,O as hs,Q as W,c as u,V as us,d as gs,f as ms}from"./makeScene2D-e3796321.js";import{a as G}from"./any-048ea22b.js";import{C as v}from"./Circle-f1bd054b.js";import{I as E}from"./Img-6aaa87c9.js";var ys=globalThis&&globalThis.__decorate||function(n,s,e,t){var o=arguments.length,a=o<3?s:t===null?t=Object.getOwnPropertyDescriptor(s,e):t,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,s,e,t);else for(var l=n.length-1;l>=0;l--)(i=n[l])&&(a=(o<3?i(a):o>3?i(s,e,a):i(s,e))||a);return o>3&&a&&Object.defineProperty(s,e,a),a};class j extends Z{get points(){return[this.p0,this.p1,this.p2]}constructor(s,e,t){super(new ss(s,s.flipped.add(e).scale(2),s.sub(e.scale(2)).add(t)),j.getLength(s,e,t)),this.p0=s,this.p1=e,this.p2=t}split(s){const e=new g(this.p0.x+(this.p1.x-this.p0.x)*s,this.p0.y+(this.p1.y-this.p0.y)*s),t=new g(this.p1.x+(this.p2.x-this.p1.x)*s,this.p1.y+(this.p2.y-this.p1.y)*s),o=new g(e.x+(t.x-e.x)*s,e.y+(t.y-e.y)*s),a=new j(this.p0,e,o),i=new j(o,t,this.p2);return[a,i]}static getLength(s,e,t){return j.el.setAttribute("d",`M ${s.x} ${s.y} Q ${e.x} ${e.y} ${t.x} ${t.y}`),j.el.getTotalLength()}doDraw(s){Q(s,this.p1,this.p2)}}ys([es(()=>document.createElementNS("http://www.w3.org/2000/svg","path"))],j,"el",void 0);function U(n){return n instanceof L}function bs(n,s,e,t){if(n.auto.start===0&&n.auto.end===0)return;const o=n.position.sub(s.position).magnitude,a=e.position.sub(n.position).magnitude,i=t*o/(o+a),l=t-i,c=new g(n.position.x-i*(e.position.x-s.position.x),n.position.y-i*(e.position.y-s.position.y)),r=new g(n.position.x+l*(e.position.x-s.position.x),n.position.y+l*(e.position.y-s.position.y));n.startHandle=n.startHandle.lerp(c,n.auto.start),n.endHandle=n.endHandle.lerp(r,n.auto.end)}function Hs(n){for(let s=0;s<n.segments.length;s++){const e=n.segments[s],t=n.segments[(s+1)%n.segments.length];if(!U(e)||!U(t))continue;const o=e.p2.sub(e.p3).normalized.safe,a=t.p1.sub(t.p0).normalized.safe,i=o.dot(a);if(!(1-Math.abs(i)>1e-4))continue;const c=Math.acos(ns(-1,1,i)),r=Math.sin(c/2);n.minSin=Math.min(n.minSin,Math.abs(r))}}function S(n,s,e,t,o){const a=o!==void 0?new L(s,e,t,o):new j(s,e,t);n.segments.push(a),n.arcLength+=a.arcLength}function js(n,s,e){const t={segments:[],arcLength:0,minSin:1},o=n.length;for(let r=0;r<o;r++){const p=(r-1+o)%o,d=(r+1)%o;bs(n[r],n[p],n[d],e)}const a=n[0],i=n[1];!s&&a.auto.start===1&&a.auto.end===1?S(t,a.position,i.startHandle,i.position):S(t,a.position,a.endHandle,i.startHandle,i.position);for(let r=1;r<o-2;r++){const p=n[r],d=n[r+1];S(t,p.position,p.endHandle,d.startHandle,d.position)}const l=n.at(-1),c=n.at(-2);return n.length>2&&(!s&&l.auto.start===1&&l.auto.end===1?S(t,c.position,c.endHandle,l.position):S(t,c.position,c.endHandle,l.startHandle,l.position)),s&&S(t,l.position,l.endHandle,a.startHandle,a.position),Hs(t),t}var R=globalThis&&globalThis.__decorate||function(n,s,e,t){var o=arguments.length,a=o<3?s:t===null?t=Object.getOwnPropertyDescriptor(s,e):t,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,s,e,t);else for(var l=n.length-1;l>=0;l--)(i=n[l])&&(a=(o<3?i(a):o>3?i(s,e,a):i(s,e))||a);return o>3&&a&&Object.defineProperty(s,e,a),a};class C extends x{get startHandleAuto(){return this.auto.startHandle}get endHandleAuto(){return this.auto.endHandle}constructor(s){super(s.startHandle===void 0&&s.endHandle===void 0?{auto:1,...s}:s)}points(){const s=!this.startHandle.isInitial()||!this.endHandle.isInitial(),e=s?this.startHandle():g.zero,t=s?this.endHandle():g.zero;return{position:this.position(),startHandle:e.transformAsPoint(this.localToParent()),endHandle:t.transformAsPoint(this.localToParent()),auto:{start:this.startHandleAuto(),end:this.endHandleAuto()}}}getDefaultEndHandle(){return this.startHandle().flipped}getDefaultStartHandle(){return this.endHandle().flipped}}R([X(g),K()],C.prototype,"startHandle",void 0);R([X(g),K()],C.prototype,"endHandle",void 0);R([ts(!1),F(()=>({startHandle:0,endHandle:0})),as(n=>typeof n=="object"&&!Array.isArray(n)?n:(typeof n=="number"&&(n=[n,n]),{startHandle:n[0],endHandle:n[1]})),is({startHandle:"startHandleAuto",endHandle:"endHandleAuto"})],C.prototype,"auto",void 0);R([z()],C.prototype,"points",null);var T=globalThis&&globalThis.__decorate||function(n,s,e,t){var o=arguments.length,a=o<3?s:t===null?t=Object.getOwnPropertyDescriptor(s,e):t,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,s,e,t);else for(var l=n.length-1;l>=0;l--)(i=n[l])&&(a=(o<3?i(a):o>3?i(s,e,a):i(s,e))||a);return o>3&&a&&Object.defineProperty(s,e,a),a};class P extends os{constructor(s){super(s),(s.children===void 0||!Array.isArray(s.children)||s.children.length<2)&&(s.points===void 0||s.points.length<2)&&s.spawner===void 0&&ls().warn({message:"Insufficient number of knots specified for spline. A spline needs at least two knots.",remarks:`<p>The spline won&#39;t be visible unless you specify at least two knots:</p>
<pre><code class="language-tsx">&lt;<span class="hljs-title class_">Spline</span>
  stroke=<span class="hljs-string">&quot;#fff&quot;</span>
  lineWidth={<span class="hljs-number">8</span>}
  points={[
    [<span class="hljs-number">100</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">100</span>],
  ]}
/&gt;
</code></pre><p>For more control over the knot handles, you can alternatively provide the knots
as children to the spline using the <code>Knot</code> component:</p>
<pre><code class="language-tsx">&lt;<span class="hljs-title class_">Spline</span> stroke=<span class="hljs-string">&quot;#fff&quot;</span> lineWidth={<span class="hljs-number">8</span>}&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Knot</span> <span class="hljs-attr">x</span>=<span class="hljs-string">{100}</span> <span class="hljs-attr">endHandle</span>=<span class="hljs-string">{[-50,</span> <span class="hljs-attr">0</span>]} /&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Knot</span> /&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Knot</span> <span class="hljs-attr">y</span>=<span class="hljs-string">{100}</span> <span class="hljs-attr">startHandle</span>=<span class="hljs-string">{[-100,</span> <span class="hljs-attr">50</span>]} /&gt;</span></span>
&lt;/<span class="hljs-title class_">Spline</span>&gt;
</code></pre>`,inspect:this.key})}profile(){return js(this.knots(),this.closed(),this.smoothness())}knots(){const s=this.points();return s?s.map(e=>{const t=new g(rs(e));return{position:t,startHandle:t,endHandle:t,auto:{start:1,end:1}}}):this.children().filter(this.isKnot).map(e=>e.points())}childrenBBox(){const s=this.profile().segments.flatMap(e=>e.points);return k.fromPoints(...s)}lineWidthCoefficient(){const s=this.lineJoin();let e=super.lineWidthCoefficient();if(s!=="miter")return e;const{minSin:t}=this.profile();return t>0&&(e=Math.max(e,.5/t)),e}desiredSize(){return this.getTightBBox().size}offsetComputedLayout(s){return s.position=s.position.sub(this.getTightBBox().center),s}getTightBBox(){const s=this.profile().segments.map(e=>e.getBBox());return k.fromBBoxes(...s)}drawOverlay(s,e){const t=this.computedSize(),o=this.childrenBBox().transformCorners(e),a=t.mul(this.offset()).scale(.5).transformAsPoint(e),i=this.profile().segments;s.lineWidth=1,s.strokeStyle="white",s.fillStyle="white";const l=new Path2D;for(let c=0;c<i.length;c++){const r=i[c],[p,d,m,y]=r.transformPoints(e);B(l,p),r instanceof L?cs(l,d,m,y):Q(l,d,m)}s.stroke(l);for(let c=0;c<i.length;c++){const r=i[c];s.fillStyle="white";const[p,d,m,y]=r.transformPoints(e),f=new Path2D;s.globalAlpha=.5,B(f,p),I(f,d),r instanceof L?(B(f,m),I(f,y),s.beginPath(),s.stroke(f)):(I(f,m),s.beginPath(),s.stroke(f)),s.globalAlpha=1,s.lineWidth=2,B(s,p),s.beginPath(),M(s,p,4),s.closePath(),s.stroke(),s.fill(),c===i.length-1&&y!==void 0&&(B(s,y),s.beginPath(),M(s,y,4),s.closePath(),s.stroke(),s.fill()),s.fillStyle="black";for(const b of[d,m])b.magnitude>0&&(B(s,b),s.beginPath(),M(s,b,4),s.closePath(),s.fill(),s.stroke())}s.lineWidth=1,s.beginPath(),ps(s,a),s.stroke(),s.beginPath(),ds(s,o),s.closePath(),s.stroke()}isKnot(s){return s instanceof C}}T([F(.4),K()],P.prototype,"smoothness",void 0);T([F(null),K()],P.prototype,"points",void 0);T([z()],P.prototype,"profile",null);T([z()],P.prototype,"knots",null);T([z()],P.prototype,"childrenBBox",null);T([z()],P.prototype,"getTightBBox",null);let J;J??(J=new V("jolon",!1));J.loadData({version:0,shared:{background:"rgba(15,15,15,0)",range:[0,null],size:{x:1920,y:1080},audioOffset:0},preview:{fps:60,resolutionScale:1},rendering:{fps:60,resolutionScale:1,colorSpace:"srgb",exporter:{name:"@motion-canvas/core/image-sequence",options:{fileType:"image/png",quality:100,groupByScene:!1}}}});const Ps=J;let N;N??(N=new V("jolon",!1));N.loadData({version:0,timeEvents:[],seed:1599149883});const ws=N,w=fs(function*(n){const s="9000C3",e="560075",t=_(0),o=_(0),a=_(0),i=u(),l=u(),c=u(),r=u(),p=u(),d=u(),m=u(),y=u(),f=u(),b=u(),A=u();n.add(h(x,{scale:.75,children:[h(v,{ref:i,size:492,fill:s,scale:0}),h(v,{ref:c,size:492,stroke:s,lineWidth:45,lineCap:"round",endAngle:()=>t(),rotation:-90,opacity:0}),h(v,{ref:p,size:45,fill:s,opacity:0}),h(v,{ref:d,size:45,position:()=>m().getPointAtPercentage(o()).position,fill:s,opacity:0}),h(v,{ref:l,fill:e,size:537,scale:0}),h(E,{ref:b,src:"../../media/OrangePortal.svg",scale:0,x:900,y:550}),h(E,{ref:A,src:"../../media/BluePortal.svg",scale:0,x:-900,y:-550}),h(x,{cache:!0,children:[h(v,{ref:r,size:14,position:[80,-116],scale:.1,fill:"#000"}),h(E,{ref:f,src:"../../media/J.svg",scale:2,compositeOperation:"source-in"})]}),h(P,{ref:m,stroke:"#fff",points:[[350,-540],[500,-369],[800,0],[900,555]]}),h(P,{ref:y,stroke:"#fff",points:[[-900,-565],[-800,0],[-387,200],[80,-116]]})]})),yield*H(p().opacity(1,.5),p().position.y(0,0).to(-286,.5)),yield*p().position.y(-246,.2),c().opacity(1),yield*t(360,.7,$),yield*D(.2),yield*i().scale(1,.5),yield*b().scale(.5,.5,q),yield*A().scale(.5,.5,q),yield*H(o(1,3,O),d().opacity(1,.5)),d().position(()=>y().getPointAtPercentage(a()).position),yield*H(d().size(28,3),a(1,3,$),d().fill("#000",1)),yield*G(r().scale(45,1,hs)),d().scale(0),yield*D(.5),yield*H(b().position([0,200],1),A().position([0,-200],1)),yield*f().scale(2.2,.5),yield*G(f().scale(.9,.2),b().position([0,150],.5),A().position([0,-150],.5)),yield*H(l().scale(1,.2,$),f().scale(1,.1)),c().stroke(e),i().scale(0),p().fill(e),yield*D(2),yield*H(r().position([0,0],0),r().scale(25,0),f().rotation(30,.5),f().position.y(150,.7,W)),yield H(f().position([0,-150],0).to([0,150],.7,q),l().scale(0,.5,O),f().scale(0,.5,O),b().scale(0,.5,W),A().scale(0,.5,W),r().scale(0,.5,O)),yield*D(.5),yield*H(t(0,.7,O),c().stroke(s,.7),p().fill(s,.7)),c().opacity(0),yield*p().position.y(-286,.2),yield*H(p().opacity(0,.5),p().position.y(0,.5))});w.name="jolon";ws.attach(w.meta);w.onReplaced??(w.onReplaced=new us(w.config));const Bs=gs({scenes:[w]}),Y=new V("settings","\0settings");Y.loadData({version:1,appearance:{color:"rgb(51,166,255)",font:!0,coordinates:!0},defaults:{background:null,size:{x:1920,y:1080}}});const Os=ms("jolon",{core:"3.12.1",two:"3.12.4",ui:"3.12.4",vitePlugin:"3.12.3"},[],Bs,Ps,Y);export{Os as default};
